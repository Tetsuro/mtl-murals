"use strict";var mtlMurals=function(){function e(){m=new google.maps.Map(document.getElementById("map")),$.when(t()).done(function(){d.html(f),u.html(f),o(),m.addListener("dragend",a),m.addListener("zoom_changed",a)})}function t(){return $.ajax({dataType:"json",cache:!1,url:"https://proxy.hackeryou.com",data:{reqUrl:i,xmlToJSON:!1},success:n})}function n(e){var t=e.features;f=t.length;var n=new google.maps.LatLngBounds;t.forEach(function(e){var t=e.properties.latitude,a=e.properties.longitude,o=e.properties.image,i=e.properties.adresse,s=new google.maps.Marker({position:{lat:e.properties.latitude,lng:e.properties.longitude},map:m,title:i,animation:google.maps.Animation.DROP}),c=new google.maps.LatLng(t,a);n.extend(c),p.push(s),s.addListener("click",function(){r.html(i),l.attr("src",o)})}),m.fitBounds(n)}function a(){var e=m.getBounds();g=0,p.forEach(function(t){e.contains(t.position)&&g++}),d.html(g)}function o(){p.forEach(function(e){var t=document.createElement("li");t.classList.add(c),t.innerHTML=e.title,s[0].appendChild(t),console.log(e.title)})}var i="http://donnees.ville.montreal.qc.ca/dataset/53d2e586-6e7f-4eae-89a1-2cfa7fc29fa0/resource/d325352b-1c06-4c3a-bf5e-1e4c98e0636b/download/murales.json",r=$(".mural-info__title"),l=$(".mural-info__image"),s=$(".mural-list"),c="mural-list__item",u=$(".mural-count__total"),d=$(".mural-count__visible"),m={},p=[],f=0,g=void 0;return{initMap:e}}();mtlMurals.initMap();